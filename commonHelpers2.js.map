{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const FEEDBACK_FORM_STATE = 'feedback-form-state';\n\nconst refs = {\n  form: document.querySelector('.feedback-form'),\n};\n\nlet formData = {\n  email: '',\n  message: '',\n};\n\nrefs.form.addEventListener('input', handleFormInput);\nrefs.form.addEventListener('submit', handleFormSubmit);\ndocument.addEventListener('DOMContentLoaded', handleLocalStorageOnLoad);\n\nfunction handleFormInput(e) {\n  formData[e.target.name] = e.target.value.trim();\n  try {\n    localStorage.setItem(FEEDBACK_FORM_STATE, JSON.stringify(formData));\n  } catch {\n    return;\n  }\n}\n\nfunction handleFormSubmit(e) {\n  e.preventDefault();\n\n  const formKeys = Object.keys(formData);\n  let isFormFilled = formKeys.every(key => e.currentTarget.elements[key].value);\n\n  if (isFormFilled) {\n    console.log(formData);\n    localStorage.removeItem(FEEDBACK_FORM_STATE);\n    e.currentTarget.reset();\n  } else {\n    alert('Fill please all fields');\n  }\n}\n\nfunction handleLocalStorageOnLoad() {\n  try {\n    const formDataFromStorage = JSON.parse(\n      localStorage.getItem(FEEDBACK_FORM_STATE)\n    );\n\n    if (formDataFromStorage) {\n      const formKeys = Object.keys(formDataFromStorage);\n      formData = formDataFromStorage;\n\n      formKeys.forEach(key => {\n        refs.form.elements[key].value = formDataFromStorage[key];\n      });\n    }\n  } catch {\n    return;\n  }\n}\n"],"names":["FEEDBACK_FORM_STATE","refs","formData","handleFormInput","handleFormSubmit","handleLocalStorageOnLoad","key","formDataFromStorage","formKeys"],"mappings":"oDAAA,MAAMA,EAAsB,sBAEtBC,EAAO,CACX,KAAM,SAAS,cAAc,gBAAgB,CAC/C,EAEA,IAAIC,EAAW,CACb,MAAO,GACP,QAAS,EACX,EAEAD,EAAK,KAAK,iBAAiB,QAASE,CAAe,EACnDF,EAAK,KAAK,iBAAiB,SAAUG,CAAgB,EACrD,SAAS,iBAAiB,mBAAoBC,CAAwB,EAEtE,SAASF,EAAgB,EAAG,CAC1BD,EAAS,EAAE,OAAO,IAAI,EAAI,EAAE,OAAO,MAAM,OACzC,GAAI,CACF,aAAa,QAAQF,EAAqB,KAAK,UAAUE,CAAQ,CAAC,CACtE,MAAU,CACN,MACD,CACH,CAEA,SAASE,EAAiB,EAAG,CAC3B,EAAE,eAAc,EAEC,OAAO,KAAKF,CAAQ,EACT,MAAMI,GAAO,EAAE,cAAc,SAASA,CAAG,EAAE,KAAK,GAG1E,QAAQ,IAAIJ,CAAQ,EACpB,aAAa,WAAWF,CAAmB,EAC3C,EAAE,cAAc,SAEhB,MAAM,wBAAwB,CAElC,CAEA,SAASK,GAA2B,CAClC,GAAI,CACF,MAAME,EAAsB,KAAK,MAC/B,aAAa,QAAQP,CAAmB,CAC9C,EAEI,GAAIO,EAAqB,CACvB,MAAMC,EAAW,OAAO,KAAKD,CAAmB,EAChDL,EAAWK,EAEXC,EAAS,QAAQF,GAAO,CACtBL,EAAK,KAAK,SAASK,CAAG,EAAE,MAAQC,EAAoBD,CAAG,CAC/D,CAAO,CACF,CACL,MAAU,CACN,MACD,CACH"}